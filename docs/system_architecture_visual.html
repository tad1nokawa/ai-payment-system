<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Payment System â€” ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³ (Zone A / Zone B)</title>
<style>
  :root {
    --zone-a: #DC2626;
    --zone-a-bg: #FEF2F2;
    --zone-a-border: #FECACA;
    --zone-a-light: #FCA5A5;
    --zone-b: #2563EB;
    --zone-b-bg: #EFF6FF;
    --zone-b-border: #BFDBFE;
    --zone-b-light: #93C5FD;
    --cross: #7C3AED;
    --cross-bg: #F5F3FF;
    --cross-border: #DDD6FE;
    --ok: #059669;
    --warn: #D97706;
    --critical: #DC2626;
    --bg: #F8FAFC;
    --card: #FFFFFF;
    --text: #1E293B;
    --text-sub: #64748B;
    --border: #E2E8F0;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: "Segoe UI","Hiragino Sans","Yu Gothic UI","Meiryo",sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }

  /* Header */
  .header { background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%); color: white; padding: 32px 40px; }
  .header h1 { font-size: 28px; font-weight: 700; margin-bottom: 4px; }
  .header .sub { font-size: 14px; color: #94A3B8; }
  .header .badges { display: flex; gap: 12px; margin-top: 16px; flex-wrap: wrap; }
  .header .badge { font-size: 12px; padding: 4px 14px; border-radius: 20px; font-weight: 600; }
  .badge-a { background: rgba(220,38,38,0.2); color: #FCA5A5; border: 1px solid rgba(220,38,38,0.3); }
  .badge-b { background: rgba(37,99,235,0.2); color: #93C5FD; border: 1px solid rgba(37,99,235,0.3); }
  .badge-cross { background: rgba(124,58,237,0.2); color: #C4B5FD; border: 1px solid rgba(124,58,237,0.3); }

  .container { max-width: 1400px; margin: 0 auto; padding: 32px 24px; }

  /* Section titles */
  .section-title { font-size: 20px; font-weight: 700; margin: 40px 0 20px; padding-bottom: 8px; border-bottom: 3px solid var(--border); display: flex; align-items: center; gap: 10px; }
  .section-title .num { background: #1E293B; color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; }
  .section-title:first-of-type { margin-top: 0; }

  /* === MAIN ARCHITECTURE DIAGRAM === */
  .arch-diagram { display: grid; grid-template-columns: 1fr 60px 1fr; gap: 0; margin: 20px 0 40px; }
  .zone-card { border-radius: 16px; padding: 28px; position: relative; overflow: hidden; }
  .zone-card::before { content: ""; position: absolute; top: 0; left: 0; right: 0; height: 5px; }
  .zone-a-card { background: var(--zone-a-bg); border: 2px solid var(--zone-a-border); }
  .zone-a-card::before { background: linear-gradient(90deg, #DC2626, #F87171); }
  .zone-b-card { background: var(--zone-b-bg); border: 2px solid var(--zone-b-border); }
  .zone-b-card::before { background: linear-gradient(90deg, #2563EB, #60A5FA); }

  .zone-header { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
  .zone-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white; }
  .zone-icon-a { background: linear-gradient(135deg, #DC2626, #B91C1C); }
  .zone-icon-b { background: linear-gradient(135deg, #2563EB, #1D4ED8); }
  .zone-label { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; }
  .zone-label-a { color: var(--zone-a); }
  .zone-label-b { color: var(--zone-b); }
  .zone-name { font-size: 20px; font-weight: 700; }
  .zone-team { font-size: 12px; color: var(--text-sub); margin-top: 2px; }

  .zone-section { margin-top: 18px; }
  .zone-section-title { font-size: 12px; font-weight: 700; color: var(--text-sub); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; padding-bottom: 4px; border-bottom: 1px dashed var(--border); }

  .func-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
  .func-item { background: white; border-radius: 10px; padding: 10px 12px; font-size: 13px; display: flex; align-items: center; gap: 8px; border: 1px solid var(--border); transition: transform 0.15s; }
  .func-item:hover { transform: translateY(-1px); box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
  .func-item .icon { font-size: 18px; flex-shrink: 0; }
  .func-item .label { font-weight: 600; font-size: 12px; }
  .func-item .desc { font-size: 10px; color: var(--text-sub); }

  .infra-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
  .infra-item { background: rgba(255,255,255,0.7); border-radius: 8px; padding: 8px 12px; font-size: 12px; display: flex; align-items: center; gap: 6px; border: 1px solid var(--border); }
  .infra-item .icon { font-size: 16px; }

  /* Connector (middle column) */
  .arch-connector { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; padding: 20px 0; }
  .conn-line { width: 4px; flex: 1; background: repeating-linear-gradient(to bottom, var(--cross) 0px, var(--cross) 6px, transparent 6px, transparent 12px); border-radius: 2px; }
  .conn-badge { background: var(--cross); color: white; font-size: 9px; font-weight: 700; padding: 6px 6px; border-radius: 8px; text-align: center; line-height: 1.2; writing-mode: vertical-rl; letter-spacing: 1px; white-space: nowrap; }

  /* PCI Badge */
  .pci-badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 14px; border-radius: 8px; font-size: 11px; font-weight: 700; margin-top: 8px; }
  .pci-required { background: #FEE2E2; color: #991B1B; border: 1px solid #FECACA; }
  .pci-not-required { background: #DBEAFE; color: #1E40AF; border: 1px solid #BFDBFE; }

  /* === USER FLOW === */
  .user-section { background: white; border-radius: 16px; padding: 28px; margin: 0 0 24px; border: 1px solid var(--border); }

  /* === FLOW DIAGRAM === */
  .flow-row { display: flex; align-items: center; gap: 0; margin: 16px 0; position: relative; }
  .flow-node { border-radius: 12px; padding: 14px 18px; text-align: center; font-size: 12px; font-weight: 600; min-width: 140px; position: relative; z-index: 1; }
  .flow-user { background: #F0FDF4; border: 2px solid #86EFAC; color: #166534; }
  .flow-spa { background: #FFF7ED; border: 2px solid #FDBA74; color: #9A3412; }
  .flow-zone-a { background: var(--zone-a-bg); border: 2px solid var(--zone-a-border); color: #991B1B; }
  .flow-zone-b { background: var(--zone-b-bg); border: 2px solid var(--zone-b-border); color: #1E40AF; }
  .flow-processor { background: #F5F3FF; border: 2px solid var(--cross-border); color: #5B21B6; }
  .flow-arrow { flex-shrink: 0; display: flex; align-items: center; gap: 0; }
  .flow-arrow-line { height: 3px; width: 60px; position: relative; }
  .flow-arrow-line::after { content: ""; position: absolute; right: -1px; top: -5px; width: 0; height: 0; border-left: 8px solid; border-top: 6px solid transparent; border-bottom: 6px solid transparent; }
  .flow-arrow-line.a-to-b { background: var(--zone-a); }
  .flow-arrow-line.a-to-b::after { border-left-color: var(--zone-a); }
  .flow-arrow-line.b-to-a { background: var(--zone-b); }
  .flow-arrow-line.b-to-a::after { border-left-color: var(--zone-b); }
  .flow-arrow-line.green { background: #16A34A; }
  .flow-arrow-line.green::after { border-left-color: #16A34A; }
  .flow-arrow-line.orange { background: #EA580C; }
  .flow-arrow-line.orange::after { border-left-color: #EA580C; }
  .flow-arrow-label { font-size: 10px; color: var(--text-sub); text-align: center; white-space: nowrap; position: absolute; top: -16px; left: 50%; transform: translateX(-50%); }

  /* === CROSS ZONE TABLE === */
  .cross-table { width: 100%; border-collapse: separate; border-spacing: 0; border-radius: 12px; overflow: hidden; border: 1px solid var(--border); margin: 16px 0; font-size: 13px; }
  .cross-table th { background: #1E293B; color: white; padding: 12px 16px; text-align: left; font-size: 12px; font-weight: 600; }
  .cross-table td { padding: 10px 16px; border-bottom: 1px solid var(--border); vertical-align: middle; }
  .cross-table tr:last-child td { border-bottom: none; }
  .cross-table tr:nth-child(even) { background: #F8FAFC; }
  .cross-table tr:hover td { background: #F1F5F9; }
  .dir-badge { font-size: 11px; font-weight: 700; padding: 3px 10px; border-radius: 12px; white-space: nowrap; }
  .dir-a-to-b { background: #FEE2E2; color: #991B1B; }
  .dir-b-to-a { background: #DBEAFE; color: #1E40AF; }
  .dir-both { background: #F3E8FF; color: #6B21A8; }

  /* === SCREEN MAPPING === */
  .screen-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 12px; margin: 16px 0; }
  .screen-card { background: white; border-radius: 10px; padding: 14px 16px; border-left: 4px solid; font-size: 13px; }
  .screen-card-a { border-left-color: var(--zone-a); background: var(--zone-a-bg); }
  .screen-card-b { border-left-color: var(--zone-b); background: var(--zone-b-bg); }
  .screen-card-cross { border-left-color: var(--cross); background: var(--cross-bg); }
  .screen-card .id { font-weight: 700; margin-right: 6px; }
  .screen-card .tag { font-size: 10px; font-weight: 600; padding: 2px 8px; border-radius: 10px; margin-left: 6px; }
  .tag-a { background: #FEE2E2; color: #991B1B; }
  .tag-b { background: #DBEAFE; color: #1E40AF; }
  .tag-cross { background: #F3E8FF; color: #6B21A8; }

  /* === REVIEW STATUS === */
  .review-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); gap: 12px; margin: 16px 0; }
  .review-item { background: white; border-radius: 10px; padding: 14px 16px; border: 1px solid var(--border); display: flex; gap: 12px; align-items: flex-start; }
  .review-item .status-icon { font-size: 20px; flex-shrink: 0; margin-top: 2px; }
  .review-item .title { font-size: 13px; font-weight: 700; }
  .review-item .detail { font-size: 12px; color: var(--text-sub); margin-top: 2px; }
  .review-ok { border-left: 4px solid var(--ok); }
  .review-warn { border-left: 4px solid var(--warn); }
  .review-critical { border-left: 4px solid var(--critical); }

  /* === DOMAIN MAP === */
  .domain-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin: 16px 0; }
  .domain-card { background: white; border-radius: 12px; padding: 16px; text-align: center; border: 2px solid var(--border); }
  .domain-card .url { font-size: 14px; font-weight: 700; color: var(--zone-b); font-family: "Consolas","Courier New", monospace; }
  .domain-card .role { font-size: 12px; color: var(--text-sub); margin-top: 4px; }
  .domain-card .zone-tag { font-size: 10px; font-weight: 700; padding: 3px 10px; border-radius: 10px; display: inline-block; margin-top: 8px; }

  /* === INTERNAL API TABLE === */
  .api-table { width: 100%; border-collapse: separate; border-spacing: 0; border-radius: 12px; overflow: hidden; border: 1px solid var(--border); margin: 16px 0; font-size: 12px; }
  .api-table th { background: #1E293B; color: white; padding: 10px 14px; text-align: left; font-size: 11px; font-weight: 600; }
  .api-table td { padding: 8px 14px; border-bottom: 1px solid var(--border); }
  .api-table tr:last-child td { border-bottom: none; }
  .api-table tr:nth-child(even) { background: #F8FAFC; }

  /* Footer */
  .footer { text-align: center; padding: 32px; color: var(--text-sub); font-size: 12px; border-top: 1px solid var(--border); margin-top: 40px; }

  /* === LEGEND === */
  .legend { display: flex; gap: 24px; margin: 16px 0; flex-wrap: wrap; }
  .legend-item { display: flex; align-items: center; gap: 8px; font-size: 12px; }
  .legend-dot { width: 14px; height: 14px; border-radius: 4px; }

  /* Print */
  @media print {
    body { background: white; }
    .header { break-after: avoid; }
    .section-title { break-after: avoid; }
    .arch-diagram, .user-section, .cross-table, .review-grid { break-inside: avoid; }
  }

  /* Top overview boxes */
  .overview-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin: 20px 0; }
  .overview-box { background: white; border-radius: 12px; padding: 20px; border: 1px solid var(--border); text-align: center; }
  .overview-box .big { font-size: 36px; font-weight: 800; }
  .overview-box .label { font-size: 12px; color: var(--text-sub); margin-top: 4px; }

  /* Actor row */
  .actor-row { display: flex; justify-content: space-around; margin: 20px 0; }
  .actor { text-align: center; }
  .actor .icon { font-size: 40px; }
  .actor .name { font-size: 13px; font-weight: 600; margin-top: 4px; }
  .actor .desc { font-size: 11px; color: var(--text-sub); }

  /* Full-width func items */
  .func-grid-full { display: grid; grid-template-columns: 1fr; gap: 6px; }
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <h1>ğŸ—ï¸ AI Payment System â€” ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³</h1>
  <div class="sub">MTGè³‡æ–™ / Zone A (CDE) â†” Zone B (ç®¡ç†ç³») ã®åˆ†é›¢è¨­è¨ˆ</div>
  <div class="badges">
    <span class="badge badge-a">ğŸ”´ Zone A â€” CDE (PCI DSSæº–æ‹ ) â€” æ±Ÿæˆãƒãƒ¼ãƒ </span>
    <span class="badge badge-b">ğŸ”µ Zone B â€” ç®¡ç†ç³»ã‚·ã‚¹ãƒ†ãƒ  â€” åˆ¥é€”æ§‹ç¯‰</span>
    <span class="badge badge-cross">ğŸŸ£ ç’°å¢ƒã‚’ã¾ãŸãæ©Ÿèƒ½ â€” è¦é€£æºè¨­è¨ˆ</span>
  </div>
</div>

<div class="container">

<!-- OVERVIEW NUMBERS -->
<div class="overview-row">
  <div class="overview-box">
    <div class="big" style="color:var(--zone-a)">8</div>
    <div class="label">Zone A æ©Ÿèƒ½</div>
  </div>
  <div class="overview-box">
    <div class="big" style="color:var(--zone-b)">16</div>
    <div class="label">Zone B æ©Ÿèƒ½</div>
  </div>
  <div class="overview-box">
    <div class="big" style="color:var(--cross)">7</div>
    <div class="label">ç’°å¢ƒé–“é€£æº</div>
  </div>
</div>

<!-- ========== 1. ARCHITECTURE DIAGRAM ========== -->
<div class="section-title"><span class="num">1</span> å…¨ä½“æ§‹æˆå›³ â€” Zone A / Zone B</div>

<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background:var(--zone-a)"></div> Zone A: CDE (PCI DSSæº–æ‹ )</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--zone-b)"></div> Zone B: ç®¡ç†ç³»ã‚·ã‚¹ãƒ†ãƒ </div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--cross)"></div> ç’°å¢ƒé–“é€šä¿¡ (VPC Peering)</div>
</div>

<!-- Main 2-column diagram -->
<div class="arch-diagram">

  <!-- Zone A -->
  <div class="zone-card zone-a-card">
    <div class="zone-header">
      <div class="zone-icon zone-icon-a">ğŸ”</div>
      <div>
        <div class="zone-label zone-label-a">AWS ç’°å¢ƒA</div>
        <div class="zone-name">CDE â€” æ±ºæ¸ˆå‡¦ç†åŸºç›¤</div>
        <div class="zone-team">ğŸ‘¤ æ±Ÿæˆãƒãƒ¼ãƒ æ§‹ç¯‰</div>
      </div>
    </div>
    <div class="pci-badge pci-required">ğŸ›¡ï¸ PCI DSS Lv.1 æº–æ‹ å¿…é ˆ</div>

    <div class="zone-section">
      <div class="zone-section-title">ğŸ’³ æ±ºæ¸ˆå‡¦ç†æ©Ÿèƒ½ (8ä»¶)</div>
      <div class="func-grid">
        <div class="func-item"><span class="icon">ğŸ”‘</span><div><div class="label">ãƒˆãƒ¼ã‚¯ãƒ³åŒ–API</div><div class="desc">ã‚«ãƒ¼ãƒ‰ç•ªå·â†’ãƒˆãƒ¼ã‚¯ãƒ³å¤‰æ›</div></div></div>
        <div class="func-item"><span class="icon">ğŸ’³</span><div><div class="label">æ±ºæ¸ˆå‡¦ç†</div><div class="desc">auth / capture / void</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”’</span><div><div class="label">3DSèªè¨¼</div><div class="desc">ã‚«ãƒ¼ãƒ‰ç™ºè¡Œå…ƒèªè¨¼</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”€</span><div><div class="label">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³</div><div class="desc">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¥ç¶šå…ˆé¸æŠ</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”„</span><div><div class="label">ãƒªã‚«ãƒ¼ãƒªãƒ³ã‚°</div><div class="desc">å®šæœŸèª²é‡‘ãƒãƒƒãƒå®Ÿè¡Œ</div></div></div>
        <div class="func-item"><span class="icon">â†©ï¸</span><div><div class="label">è¿”é‡‘å‡¦ç†</div><div class="desc">æ¥ç¶šå…ˆã¸ã®è¿”é‡‘å®Ÿè¡Œ</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”—</span><div><div class="label">æ±ºæ¸ˆãƒªãƒ³ã‚¯å‡¦ç†</div><div class="desc">ãƒªãƒ³ã‚¯æ±ºæ¸ˆã®å®Ÿè¡Œ</div></div></div>
        <div class="func-item"><span class="icon">ğŸ“¡</span><div><div class="label">æ¥ç¶šå…ˆAPIé€šä¿¡</div><div class="desc">å„ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã¨ã®é€šä¿¡</div></div></div>
      </div>
    </div>

    <div class="zone-section">
      <div class="zone-section-title">ğŸ—„ï¸ CDE å†…ã‚¤ãƒ³ãƒ•ãƒ©</div>
      <div class="infra-grid">
        <div class="infra-item"><span class="icon">ğŸ—ƒï¸</span> CDEå†…DB (ã‚«ãƒ¼ãƒ‰ç•ªå·)</div>
        <div class="infra-item"><span class="icon">ğŸ”</span> HSM / KMS (æš—å·éµ)</div>
        <div class="infra-item"><span class="icon">ğŸ›¡ï¸</span> WAF / IDS / IPS</div>
        <div class="infra-item"><span class="icon">ğŸ“Š</span> ç›£æŸ»è¨¼è·¡ãƒ­ã‚°</div>
      </div>
    </div>

    <div class="zone-section">
      <div class="zone-section-title">ğŸ¦ æ¥ç¶šå…ˆ (ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼)</div>
      <div style="display:flex;flex-wrap:wrap;gap:6px;">
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">Univa Paycast</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">æ¥½å¤©éŠ€è¡Œ</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">Worldpay</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">TCMS</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">Asiabill</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">ãƒ“ãƒƒãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">ãƒšã‚¤ãƒ‡ã‚£</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">ONTHELINE</span>
      </div>
    </div>
  </div>

  <!-- Connector -->
  <div class="arch-connector">
    <div class="conn-line"></div>
    <div class="conn-badge">å†…éƒ¨API<br>15ä»¶</div>
    <div class="conn-line"></div>
    <div style="font-size:10px;color:var(--cross);font-weight:700;text-align:center;">VPC<br>Peering</div>
    <div class="conn-line"></div>
  </div>

  <!-- Zone B -->
  <div class="zone-card zone-b-card">
    <div class="zone-header">
      <div class="zone-icon zone-icon-b">ğŸ–¥ï¸</div>
      <div>
        <div class="zone-label zone-label-b">AWS ç’°å¢ƒB</div>
        <div class="zone-name">ç®¡ç†ç³»ã‚·ã‚¹ãƒ†ãƒ </div>
        <div class="zone-team">ğŸ‘¤ åˆ¥é€”æ§‹ç¯‰</div>
      </div>
    </div>
    <div class="pci-badge pci-not-required">âœ… PCI DSS æº–æ‹ ä¸è¦ (ã‚«ãƒ¼ãƒ‰ç•ªå·éä¿æŒ)</div>

    <div class="zone-section">
      <div class="zone-section-title">ğŸ–¥ï¸ ç®¡ç†ç”»é¢æ©Ÿèƒ½ (16ä»¶)</div>
      <div class="func-grid">
        <div class="func-item"><span class="icon">ğŸª</span><div><div class="label">åŠ ç›Ÿåº—ãƒ»ã‚µã‚¤ãƒˆç®¡ç†</div><div class="desc">M04, M06, S06, S08</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”</span><div><div class="label">å–å¼•æ¤œç´¢ãƒ»é–²è¦§</div><div class="desc">M03, M03b, S02</div></div></div>
        <div class="func-item"><span class="icon">âš¡</span><div><div class="label">ä¾‹å¤–ã‚­ãƒ¥ãƒ¼ç®¡ç†</div><div class="desc">M02, M01</div></div></div>
        <div class="func-item"><span class="icon">ğŸ’°</span><div><div class="label">ç²¾ç®—ãƒ»å…¥é‡‘ç®¡ç†</div><div class="desc">M08, S04</div></div></div>
        <div class="func-item"><span class="icon">ğŸ›¡ï¸</span><div><div class="label">ä¸æ­£æ¤œçŸ¥ãƒ«ãƒ¼ãƒ«</div><div class="desc">M07 (è¨­å®šãƒ»é–²è¦§)</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”€</span><div><div class="label">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç®¡ç†</div><div class="desc">M10 (ãƒ«ãƒ¼ãƒ«è¨­å®š)</div></div></div>
        <div class="func-item"><span class="icon">ğŸ“„</span><div><div class="label">ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ</div><div class="desc">M11, S03</div></div></div>
        <div class="func-item"><span class="icon">ğŸ‘¤</span><div><div class="label">ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼</div><div class="desc">M12, S07, D05</div></div></div>
        <div class="func-item"><span class="icon">ğŸ‘¥</span><div><div class="label">é¡§å®¢CRM</div><div class="desc">M16, S11</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”„</span><div><div class="label">ç¶™ç¶šèª²é‡‘ç®¡ç†</div><div class="desc">M14, S10 (è¨­å®š)</div></div></div>
        <div class="func-item"><span class="icon">ğŸ”—</span><div><div class="label">æ±ºæ¸ˆãƒªãƒ³ã‚¯ç®¡ç†</div><div class="desc">S09 (è¨­å®š)</div></div></div>
        <div class="func-item"><span class="icon">ğŸ¤</span><div><div class="label">ä»£ç†åº—ç®¡ç†</div><div class="desc">M15, D01-D05</div></div></div>
        <div class="func-item"><span class="icon">ğŸ¤–</span><div><div class="label">AIç›£è¦–ãƒ»ãƒãƒ£ãƒƒãƒˆ</div><div class="desc">M05, M01, S12</div></div></div>
        <div class="func-item"><span class="icon">âš™ï¸</span><div><div class="label">ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</div><div class="desc">M13</div></div></div>
        <div class="func-item"><span class="icon">ğŸ“‹</span><div><div class="label">æ“ä½œãƒ­ã‚°ãƒ»ç›£æŸ»</div><div class="desc">M13 (90æ—¥ä¿æŒ)</div></div></div>
        <div class="func-item"><span class="icon">ğŸ””</span><div><div class="label">é€šçŸ¥é…ä¿¡</div><div class="desc">ãƒ¡ãƒ¼ãƒ«/Webhook</div></div></div>
      </div>
    </div>

    <div class="zone-section">
      <div class="zone-section-title">ğŸ—„ï¸ ç®¡ç†ç³»ã‚¤ãƒ³ãƒ•ãƒ©</div>
      <div class="infra-grid">
        <div class="infra-item"><span class="icon">ğŸ˜</span> PostgreSQL (62ãƒ†ãƒ¼ãƒ–ãƒ«)</div>
        <div class="infra-item"><span class="icon">âš¡</span> Redis (ã‚­ãƒ£ãƒƒã‚·ãƒ¥)</div>
        <div class="infra-item"><span class="icon">ğŸ“¦</span> S3 (CSV/ãƒ¬ãƒãƒ¼ãƒˆ)</div>
        <div class="infra-item"><span class="icon">ğŸ“§</span> SES / SNS (é€šçŸ¥)</div>
        <div class="infra-item"><span class="icon">ğŸŒ</span> CloudFront (SPA)</div>
        <div class="infra-item"><span class="icon">âš–ï¸</span> ALB + ECS Fargate</div>
      </div>
    </div>

    <div class="zone-section">
      <div class="zone-section-title">ğŸ‘¥ åˆ©ç”¨è€…</div>
      <div style="display:flex;flex-wrap:wrap;gap:6px;">
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">ğŸ¢ PSPé‹å–¶ã‚¹ã‚¿ãƒƒãƒ•</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">ğŸª åŠ ç›Ÿåº—ã‚¹ã‚¿ãƒƒãƒ•</span>
        <span style="background:white;border:1px solid #ddd;border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;">ğŸ¤ ä»£ç†åº—ã‚¹ã‚¿ãƒƒãƒ•</span>
      </div>
    </div>
  </div>
</div>

<!-- ========== 2. DATA FLOW ========== -->
<div class="section-title"><span class="num">2</span> ä¸»è¦ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</div>

<!-- Payment Flow -->
<div class="user-section">
  <h3 style="font-size:16px;font-weight:700;margin-bottom:16px;">ğŸ’³ æ±ºæ¸ˆãƒ•ãƒ­ãƒ¼ (è³¼å…¥è€… â†’ Zone A â†’ Zone B)</h3>
  <div style="display:grid; grid-template-columns:repeat(5,1fr); gap:12px; text-align:center;">
    <div>
      <div style="background:#F0FDF4;border:2px solid #86EFAC;border-radius:12px;padding:14px;font-weight:700;font-size:13px;">ğŸ›’ è³¼å…¥è€…</div>
      <div style="margin:8px 0;font-size:11px;color:var(--text-sub);">P02 æ±ºæ¸ˆãƒšãƒ¼ã‚¸</div>
    </div>
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;">
      <div style="font-size:10px;color:var(--text-sub);margin-bottom:4px;">iframeå†…<br>ã‚«ãƒ¼ãƒ‰å…¥åŠ›</div>
      <div style="height:3px;width:100%;background:var(--zone-a);position:relative;">
        <div style="position:absolute;right:-1px;top:-5px;width:0;height:0;border-left:8px solid var(--zone-a);border-top:6px solid transparent;border-bottom:6px solid transparent;"></div>
      </div>
    </div>
    <div>
      <div style="background:var(--zone-a-bg);border:2px solid var(--zone-a-border);border-radius:12px;padding:14px;font-weight:700;font-size:13px;color:#991B1B;">ğŸ” Zone A<br><small style="font-weight:400;">ãƒˆãƒ¼ã‚¯ãƒ³åŒ–â†’æ±ºæ¸ˆâ†’æ¥ç¶šå…ˆ</small></div>
    </div>
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;">
      <div style="font-size:10px;color:var(--text-sub);margin-bottom:4px;">å–å¼•çµæœ<br>åŒæœŸ(Event)</div>
      <div style="height:3px;width:100%;background:var(--cross);position:relative;">
        <div style="position:absolute;right:-1px;top:-5px;width:0;height:0;border-left:8px solid var(--cross);border-top:6px solid transparent;border-bottom:6px solid transparent;"></div>
      </div>
    </div>
    <div>
      <div style="background:var(--zone-b-bg);border:2px solid var(--zone-b-border);border-radius:12px;padding:14px;font-weight:700;font-size:13px;color:#1E40AF;">ğŸ–¥ï¸ Zone B<br><small style="font-weight:400;">å–å¼•è¨˜éŒ²ãƒ»ä¾‹å¤–ã‚­ãƒ¥ãƒ¼ãƒ»é€šçŸ¥</small></div>
    </div>
  </div>
  <div style="margin-top:16px;background:#FFFBEB;border:1px solid #FDE68A;border-radius:10px;padding:12px 16px;font-size:12px;">
    <strong>âš ï¸ ãƒã‚¤ãƒ³ãƒˆ:</strong> ã‚«ãƒ¼ãƒ‰ç•ªå·ã¯ <strong style="color:var(--zone-a)">Zone A ã®ã¿</strong> ã§å‡¦ç†ã€‚Zone B ã«ã¯ãƒˆãƒ¼ã‚¯ãƒ³ã®ã¿åŒæœŸã€‚ç®¡ç†ç”»é¢ (Zone B) ã‹ã‚‰ã‚«ãƒ¼ãƒ‰ç•ªå·ã¯ä¸€åˆ‡å‚ç…§ä¸å¯ã€‚
  </div>
</div>

<!-- Management Flow -->
<div class="user-section">
  <h3 style="font-size:16px;font-weight:700;margin-bottom:16px;">ğŸ–¥ï¸ ç®¡ç†ç”»é¢ãƒ•ãƒ­ãƒ¼ (ç®¡ç†è€… â†’ Zone B â†’ Zone A)</h3>
  <div style="display:grid; grid-template-columns:repeat(5,1fr); gap:12px; text-align:center;">
    <div>
      <div style="background:#FFF7ED;border:2px solid #FDBA74;border-radius:12px;padding:14px;font-weight:700;font-size:13px;color:#9A3412;">ğŸ‘¤ ç®¡ç†è€…<br><small style="font-weight:400;">ãƒ–ãƒ©ã‚¦ã‚¶ SPA</small></div>
    </div>
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;">
      <div style="font-size:10px;color:var(--text-sub);margin-bottom:4px;">æ¤œç´¢/æ“ä½œ<br>APIå‘¼å‡º</div>
      <div style="height:3px;width:100%;background:var(--zone-b);position:relative;">
        <div style="position:absolute;right:-1px;top:-5px;width:0;height:0;border-left:8px solid var(--zone-b);border-top:6px solid transparent;border-bottom:6px solid transparent;"></div>
      </div>
    </div>
    <div>
      <div style="background:var(--zone-b-bg);border:2px solid var(--zone-b-border);border-radius:12px;padding:14px;font-weight:700;font-size:13px;color:#1E40AF;">ğŸ–¥ï¸ Zone B<br><small style="font-weight:400;">ç®¡ç†API + DB</small></div>
    </div>
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;">
      <div style="font-size:10px;color:var(--text-sub);margin-bottom:4px;">è¿”é‡‘æŒ‡ç¤ºç­‰<br>å†…éƒ¨API</div>
      <div style="height:3px;width:100%;background:var(--cross);position:relative;">
        <div style="position:absolute;right:-1px;top:-5px;width:0;height:0;border-left:8px solid var(--cross);border-top:6px solid transparent;border-bottom:6px solid transparent;"></div>
      </div>
    </div>
    <div>
      <div style="background:var(--zone-a-bg);border:2px solid var(--zone-a-border);border-radius:12px;padding:14px;font-weight:700;font-size:13px;color:#991B1B;">ğŸ” Zone A<br><small style="font-weight:400;">è¿”é‡‘å®Ÿè¡Œãƒ»æ¥ç¶šå…ˆé€šä¿¡</small></div>
    </div>
  </div>
</div>

<!-- ========== 2.5 PAYMENT PROCESSING STEPS ========== -->
<div class="user-section">
  <h3 style="font-size:16px;font-weight:700;margin-bottom:16px;">âš¡ æ±ºæ¸ˆå‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—è©³ç´° â€” Zone A å†…éƒ¨ãƒ•ãƒ­ãƒ¼</h3>
  <p style="font-size:12px;color:var(--text-sub);margin-bottom:16px;">ã€ŒÂ¥9,800ã‚’æ”¯æ‰•ã†ã€ãƒœã‚¿ãƒ³æŠ¼ä¸‹å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãƒ•ãƒ­ãƒ¼ã€‚ã‚«ãƒ¼ãƒ‰ç•ªå·ã¯Zone Aå†…ã§å®Œçµã—ã€Zone Bã«ã¯ãƒˆãƒ¼ã‚¯ãƒ³ã¨çµæœã®ã¿åŒæœŸã€‚</p>

  <!-- Step flow -->
  <div style="display:flex;align-items:stretch;gap:0;margin:20px 0;overflow-x:auto;">
    <!-- Step 1 -->
    <div style="flex:1;min-width:0;">
      <div style="background:var(--zone-a-bg);border:2px solid var(--zone-a-border);border-radius:12px;padding:16px;text-align:center;position:relative;">
        <div style="position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--zone-a);color:white;font-size:10px;font-weight:700;padding:2px 10px;border-radius:10px;">STEP 1</div>
        <div style="font-size:28px;margin:8px 0 4px;">ğŸ”‘</div>
        <div style="font-size:13px;font-weight:700;color:#991B1B;">ãƒˆãƒ¼ã‚¯ãƒ³åŒ–</div>
        <div style="font-size:10px;color:var(--text-sub);margin-top:4px;">ã‚«ãƒ¼ãƒ‰ç•ªå· â†’ ãƒˆãƒ¼ã‚¯ãƒ³<br>CDE iframeå†…ã§æš—å·åŒ–</div>
        <div style="margin-top:8px;"><span style="font-size:9px;font-weight:700;padding:2px 8px;border-radius:8px;background:#FEE2E2;color:#991B1B;">Zone A</span></div>
      </div>
    </div>
    <div style="display:flex;align-items:center;padding:0 4px;"><div style="width:24px;height:3px;background:var(--zone-a);position:relative;"><div style="position:absolute;right:-1px;top:-4px;width:0;height:0;border-left:7px solid var(--zone-a);border-top:5px solid transparent;border-bottom:5px solid transparent;"></div></div></div>
    <!-- Step 2 -->
    <div style="flex:1;min-width:0;">
      <div style="background:var(--zone-a-bg);border:2px solid var(--zone-a-border);border-radius:12px;padding:16px;text-align:center;position:relative;">
        <div style="position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--zone-a);color:white;font-size:10px;font-weight:700;padding:2px 10px;border-radius:10px;">STEP 2</div>
        <div style="font-size:28px;margin:8px 0 4px;">ğŸ”€</div>
        <div style="font-size:13px;font-weight:700;color:#991B1B;">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</div>
        <div style="font-size:10px;color:var(--text-sub);margin-top:4px;">æˆåŠŸç‡ãƒ»æ‰‹æ•°æ–™ã‹ã‚‰<br>æœ€é©æ¥ç¶šå…ˆã‚’è‡ªå‹•é¸æŠ</div>
        <div style="margin-top:8px;"><span style="font-size:9px;font-weight:700;padding:2px 8px;border-radius:8px;background:#FEE2E2;color:#991B1B;">Zone A</span></div>
      </div>
    </div>
    <div style="display:flex;align-items:center;padding:0 4px;"><div style="width:24px;height:3px;background:var(--zone-a);position:relative;"><div style="position:absolute;right:-1px;top:-4px;width:0;height:0;border-left:7px solid var(--zone-a);border-top:5px solid transparent;border-bottom:5px solid transparent;"></div></div></div>
    <!-- Step 3 -->
    <div style="flex:1;min-width:0;">
      <div style="background:var(--zone-a-bg);border:2px solid var(--zone-a-border);border-radius:12px;padding:16px;text-align:center;position:relative;">
        <div style="position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--zone-a);color:white;font-size:10px;font-weight:700;padding:2px 10px;border-radius:10px;">STEP 3</div>
        <div style="font-size:28px;margin:8px 0 4px;">ğŸ›¡ï¸</div>
        <div style="font-size:13px;font-weight:700;color:#991B1B;">ä¸æ­£æ¤œçŸ¥</div>
        <div style="font-size:10px;color:var(--text-sub);margin-top:4px;">ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢åˆ¤å®š<br>é€Ÿåº¦/é‡‘é¡/BINãƒã‚§ãƒƒã‚¯</div>
        <div style="margin-top:8px;"><span style="font-size:9px;font-weight:700;padding:2px 8px;border-radius:8px;background:#FEE2E2;color:#991B1B;">Zone A</span></div>
      </div>
    </div>
    <div style="display:flex;align-items:center;padding:0 4px;"><div style="width:24px;height:3px;background:var(--zone-a);position:relative;"><div style="position:absolute;right:-1px;top:-4px;width:0;height:0;border-left:7px solid var(--zone-a);border-top:5px solid transparent;border-bottom:5px solid transparent;"></div></div></div>
    <!-- Step 4 -->
    <div style="flex:1;min-width:0;">
      <div style="background:var(--zone-a-bg);border:2px solid var(--zone-a-border);border-radius:12px;padding:16px;text-align:center;position:relative;">
        <div style="position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--zone-a);color:white;font-size:10px;font-weight:700;padding:2px 10px;border-radius:10px;">STEP 4</div>
        <div style="font-size:28px;margin:8px 0 4px;">ğŸ“¡</div>
        <div style="font-size:13px;font-weight:700;color:#991B1B;">æ¥ç¶šå…ˆé€šä¿¡</div>
        <div style="font-size:10px;color:var(--text-sub);margin-top:4px;">ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã¸æ±ºæ¸ˆè¦æ±‚<br>3DSèªè¨¼ (å¿…è¦æ™‚)</div>
        <div style="margin-top:8px;"><span style="font-size:9px;font-weight:700;padding:2px 8px;border-radius:8px;background:#FEE2E2;color:#991B1B;">Zone A</span></div>
      </div>
    </div>
    <div style="display:flex;align-items:center;padding:0 4px;"><div style="width:24px;height:3px;background:var(--cross);position:relative;"><div style="position:absolute;right:-1px;top:-4px;width:0;height:0;border-left:7px solid var(--cross);border-top:5px solid transparent;border-bottom:5px solid transparent;"></div></div></div>
    <!-- Step 5 -->
    <div style="flex:1;min-width:0;">
      <div style="background:var(--zone-b-bg);border:2px solid var(--zone-b-border);border-radius:12px;padding:16px;text-align:center;position:relative;">
        <div style="position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--zone-b);color:white;font-size:10px;font-weight:700;padding:2px 10px;border-radius:10px;">STEP 5</div>
        <div style="font-size:28px;margin:8px 0 4px;">ğŸ’¾</div>
        <div style="font-size:13px;font-weight:700;color:#1E40AF;">çµæœåŒæœŸ</div>
        <div style="font-size:10px;color:var(--text-sub);margin-top:4px;">ç®¡ç†ç³»DBã«å–å¼•è¨˜éŒ²<br>ä¾‹å¤–ã‚­ãƒ¥ãƒ¼ãƒ»é€šçŸ¥</div>
        <div style="margin-top:8px;"><span style="font-size:9px;font-weight:700;padding:2px 8px;border-radius:8px;background:#DBEAFE;color:#1E40AF;">Zone B</span></div>
      </div>
    </div>
  </div>

  <!-- Detail table -->
  <table style="width:100%;border-collapse:separate;border-spacing:0;border-radius:10px;overflow:hidden;border:1px solid var(--border);font-size:12px;margin-top:16px;">
    <thead>
      <tr>
        <th style="background:#1E293B;color:white;padding:8px 12px;text-align:left;font-size:11px;">ã‚¹ãƒ†ãƒƒãƒ—</th>
        <th style="background:#1E293B;color:white;padding:8px 12px;text-align:left;font-size:11px;">å‡¦ç†å†…å®¹</th>
        <th style="background:#1E293B;color:white;padding:8px 12px;text-align:left;font-size:11px;">ãƒ‡ãƒ¼ã‚¿</th>
        <th style="background:#1E293B;color:white;padding:8px 12px;text-align:left;font-size:11px;width:60px;">Zone</th>
        <th style="background:#1E293B;color:white;padding:8px 12px;text-align:left;font-size:11px;">å¤±æ•—æ™‚ã®å‹•ä½œ</th>
      </tr>
    </thead>
    <tbody>
      <tr><td style="padding:8px 12px;border-bottom:1px solid var(--border);font-weight:700;">ğŸ”‘ ãƒˆãƒ¼ã‚¯ãƒ³åŒ–</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">CDE iframeå†…ã§ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’ãƒˆãƒ¼ã‚¯ãƒ³ã«å¤‰æ›ã€‚JSãƒ–ãƒªãƒƒã‚¸ã§tokenè¿”å´</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">ã‚«ãƒ¼ãƒ‰ç•ªå· â†’ token_xxx</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);"><span class="dir-badge dir-a-to-b" style="font-size:10px;">Zone A</span></td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">ã‚¨ãƒ©ãƒ¼ç”»é¢è¡¨ç¤º</td></tr>
      <tr style="background:#F8FAFC;"><td style="padding:8px 12px;border-bottom:1px solid var(--border);font-weight:700;">ğŸ”€ ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">æˆåŠŸç‡ãƒ»ã‚³ã‚¹ãƒˆãƒ»BINãƒ»åœ°åŸŸã§ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã€‚æœ€é©ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’è‡ªå‹•é¸æŠ</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ« (Zone Bã‹ã‚‰åŒæœŸæ¸ˆ)</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);"><span class="dir-badge dir-a-to-b" style="font-size:10px;">Zone A</span></td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¥ç¶šå…ˆã¸</td></tr>
      <tr><td style="padding:8px 12px;border-bottom:1px solid var(--border);font-weight:700;">ğŸ›¡ï¸ ä¸æ­£æ¤œçŸ¥</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">é€Ÿåº¦ãƒã‚§ãƒƒã‚¯ãƒ»é‡‘é¡é–¾å€¤ãƒ»BINãƒ–ãƒ­ãƒƒã‚¯ãƒ»åœ°åŸŸåˆ¶é™ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¤å®š</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">ä¸æ­£æ¤œçŸ¥ãƒ«ãƒ¼ãƒ« (Zone Bã‹ã‚‰åŒæœŸæ¸ˆ)</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);"><span class="dir-badge dir-a-to-b" style="font-size:10px;">Zone A</span></td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">è‡ªå‹•ãƒ–ãƒ­ãƒƒã‚¯ or ä¾‹å¤–ã‚­ãƒ¥ãƒ¼</td></tr>
      <tr style="background:#F8FAFC;"><td style="padding:8px 12px;border-bottom:1px solid var(--border);font-weight:700;">ğŸ“¡ æ¥ç¶šå…ˆé€šä¿¡</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">é¸æŠã•ã‚ŒãŸãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã¸æ±ºæ¸ˆè¦æ±‚é€ä¿¡ã€‚3DSèªè¨¼ãŒå¿…è¦ãªå ´åˆã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">token + é‡‘é¡ + 3DSçµæœ</td><td style="padding:8px 12px;border-bottom:1px solid var(--border);"><span class="dir-badge dir-a-to-b" style="font-size:10px;">Zone A</span></td><td style="padding:8px 12px;border-bottom:1px solid var(--border);">æ±ºæ¸ˆå¤±æ•—ã‚¨ãƒ©ãƒ¼è¡¨ç¤º</td></tr>
      <tr><td style="padding:8px 12px;font-weight:700;">ğŸ’¾ çµæœåŒæœŸ</td><td style="padding:8px 12px;">å–å¼•çµæœã‚’ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã§Zone Bã¸ã€‚ç®¡ç†ç³»DBã«ä¿å­˜ã€ä¾‹å¤–ã‚­ãƒ¥ãƒ¼ãƒ»é€šçŸ¥å‡¦ç†</td><td style="padding:8px 12px;">å–å¼•çµæœ (ãƒˆãƒ¼ã‚¯ãƒ³ã®ã¿ã€ã‚«ãƒ¼ãƒ‰ç•ªå·ãªã—)</td><td style="padding:8px 12px;"><span class="dir-badge dir-b-to-a" style="font-size:10px;">Zone B</span></td><td style="padding:8px 12px;">ãƒªãƒˆãƒ©ã‚¤ã‚­ãƒ¥ãƒ¼â†’æ‰‹å‹•ç¢ºèª</td></tr>
    </tbody>
  </table>

  <div style="margin-top:12px;background:#FFFBEB;border:1px solid #FDE68A;border-radius:10px;padding:12px 16px;font-size:12px;">
    <strong>ğŸ’¡ ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã§ç¢ºèª:</strong> ä¸Šéƒ¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€Œæ±ºæ¸ˆãƒšãƒ¼ã‚¸ã€â†’ã€Œå‡¦ç†ä¸­ã€ã‚¿ãƒ–ã§ã€ã“ã®ãƒ•ãƒ­ãƒ¼ãŒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã§å‹•ä½œç¢ºèªã§ãã¾ã™ã€‚
  </div>
</div>

<!-- ========== 3. CROSS-ZONE FUNCTIONS ========== -->
<div class="section-title"><span class="num">3</span> ç’°å¢ƒã‚’ã¾ãŸãæ©Ÿèƒ½ (7ä»¶) â€” è¦é€£æºè¨­è¨ˆ</div>

<table class="cross-table">
  <thead>
    <tr>
      <th style="width:30px">#</th>
      <th>æ©Ÿèƒ½</th>
      <th>Zone A ã®å½¹å‰²</th>
      <th>Zone B ã®å½¹å‰²</th>
      <th style="width:90px">æ–¹å‘</th>
      <th>æ¨å¥¨æ–¹å¼</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>C-1</strong></td>
      <td><strong>ğŸ”€ ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</strong></td>
      <td>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ«ãƒ¼ãƒ«é©ç”¨</td>
      <td>ãƒ«ãƒ¼ãƒ«è¨­å®šãƒ»ç®¡ç† (M10)</td>
      <td><span class="dir-badge dir-b-to-a">B â†’ A</span></td>
      <td>ãƒ«ãƒ¼ãƒ«å¤‰æ›´æ™‚ã«APIåŒæœŸ</td>
    </tr>
    <tr>
      <td><strong>C-2</strong></td>
      <td><strong>ğŸ›¡ï¸ ä¸æ­£æ¤œçŸ¥</strong></td>
      <td>æ±ºæ¸ˆæ™‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¤å®š</td>
      <td>ãƒ«ãƒ¼ãƒ«è¨­å®šãƒ»ãƒ­ã‚°é–²è¦§ (M07)</td>
      <td><span class="dir-badge dir-both">åŒæ–¹å‘</span></td>
      <td>ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ (é€Ÿåº¦ç³»â†’A, AIâ†’B)</td>
    </tr>
    <tr>
      <td><strong>C-3</strong></td>
      <td><strong>â†©ï¸ è¿”é‡‘</strong></td>
      <td>æ¥ç¶šå…ˆã¸ã®è¿”é‡‘å®Ÿè¡Œ</td>
      <td>è¿”é‡‘æŒ‡ç¤ºãƒ»çµæœè¡¨ç¤º</td>
      <td><span class="dir-badge dir-b-to-a">B â†’ A</span></td>
      <td>Zone Bâ†’A å†…éƒ¨APIå‘¼å‡º</td>
    </tr>
    <tr>
      <td><strong>C-4</strong></td>
      <td><strong>ğŸ”„ ãƒªã‚«ãƒ¼ãƒªãƒ³ã‚°</strong></td>
      <td>å®šæœŸèª²é‡‘å®Ÿè¡Œãƒãƒƒãƒ</td>
      <td>ãƒ—ãƒ©ãƒ³è¨­å®šãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</td>
      <td><span class="dir-badge dir-both">åŒæ–¹å‘</span></td>
      <td>Aå®Ÿè¡Œâ†’çµæœã‚’Bã«Eventé€šçŸ¥</td>
    </tr>
    <tr>
      <td><strong>C-5</strong></td>
      <td><strong>ğŸ“Š å–å¼•ãƒ‡ãƒ¼ã‚¿</strong></td>
      <td>å–å¼•çµæœç”Ÿæˆ</td>
      <td>å–å¼•æ¤œç´¢ãƒ»è¡¨ç¤º</td>
      <td><span class="dir-badge dir-a-to-b">A â†’ B</span></td>
      <td>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•åŒæœŸ (SQS)</td>
    </tr>
    <tr>
      <td><strong>C-6</strong></td>
      <td><strong>ğŸ¥ ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ãƒ˜ãƒ«ã‚¹</strong></td>
      <td>ç¨¼åƒç‡è¨ˆæ¸¬</td>
      <td>ãƒ˜ãƒ«ã‚¹è¡¨ç¤ºãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ (M01)</td>
      <td><span class="dir-badge dir-a-to-b">A â†’ B</span></td>
      <td>å®šæœŸãƒ˜ãƒ«ã‚¹ãƒ‡ãƒ¼ã‚¿é€ä¿¡</td>
    </tr>
    <tr>
      <td><strong>C-7</strong></td>
      <td><strong>ğŸ’° ç²¾ç®—</strong></td>
      <td>å–å¼•ã”ã¨æ‰‹æ•°æ–™è¨ˆç®—</td>
      <td>ãƒãƒƒãƒç®¡ç†ãƒ»å…¥é‡‘ç®¡ç†</td>
      <td><span class="dir-badge dir-a-to-b">A â†’ B</span></td>
      <td>ç²¾ç®—ãƒ‡ãƒ¼ã‚¿ã‚’Aâ†’BåŒæœŸ</td>
    </tr>
  </tbody>
</table>

<!-- ========== 4. INTERNAL APIs ========== -->
<div class="section-title"><span class="num">4</span> å†…éƒ¨APIä¸€è¦§ (Zone A â†” Zone B) â€” 15ä»¶</div>

<table class="api-table">
  <thead>
    <tr>
      <th style="width:55px">API ID</th>
      <th>APIå</th>
      <th style="width:80px">æ–¹å‘</th>
      <th>ç”¨é€”</th>
      <th>ã‚¿ã‚¤ãƒŸãƒ³ã‚°</th>
    </tr>
  </thead>
  <tbody>
    <tr><td><strong>I-001</strong></td><td>å–å¼•çµæœé€šçŸ¥</td><td><span class="dir-badge dir-a-to-b">A â†’ B</span></td><td>æ±ºæ¸ˆå®Œäº†/å¤±æ•—æ™‚ã«ç®¡ç†ç³»DBã¸åŒæœŸ</td><td>æ±ºæ¸ˆå®Œäº†æ™‚</td></tr>
    <tr><td><strong>I-002</strong></td><td>è¿”é‡‘å®Ÿè¡Œ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>ç®¡ç†ç”»é¢ã‹ã‚‰ã®è¿”é‡‘æŒ‡ç¤º</td><td>ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰</td></tr>
    <tr><td><strong>I-003</strong></td><td>ã‚­ãƒ£ãƒ³ã‚»ãƒ«å®Ÿè¡Œ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>ç®¡ç†ç”»é¢ã‹ã‚‰ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«æŒ‡ç¤º</td><td>ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰</td></tr>
    <tr><td><strong>I-004</strong></td><td>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«åŒæœŸ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>ãƒ«ãƒ¼ãƒ«å¤‰æ›´æ™‚ã«Zone Aã«åæ˜ </td><td>ãƒ«ãƒ¼ãƒ«å¤‰æ›´æ™‚</td></tr>
    <tr><td><strong>I-005</strong></td><td>ä¸æ­£æ¤œçŸ¥ãƒ«ãƒ¼ãƒ«åŒæœŸ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>ãƒ«ãƒ¼ãƒ«å¤‰æ›´æ™‚ã«Zone Aã«åæ˜ </td><td>ãƒ«ãƒ¼ãƒ«å¤‰æ›´æ™‚</td></tr>
    <tr><td><strong>I-006</strong></td><td>ãƒ–ãƒ­ãƒƒã‚¯ãƒªã‚¹ãƒˆåŒæœŸ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>BIN/IP/ãƒ¡ãƒ¼ãƒ«ç­‰ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒªã‚¹ãƒˆæ›´æ–°</td><td>ãƒªã‚¹ãƒˆå¤‰æ›´æ™‚</td></tr>
    <tr><td><strong>I-007</strong></td><td>ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ãƒ˜ãƒ«ã‚¹é€šçŸ¥</td><td><span class="dir-badge dir-a-to-b">A â†’ B</span></td><td>ç¨¼åƒç‡/ãƒ¬ã‚¹ãƒãƒ³ã‚¹/ã‚¨ãƒ©ãƒ¼æ•°ã®å®šæœŸé€ä¿¡</td><td>å®šæœŸ (1åˆ†æ¯)</td></tr>
    <tr><td><strong>I-008</strong></td><td>ãƒªã‚«ãƒ¼ãƒªãƒ³ã‚°å¯¾è±¡å–å¾—</td><td><span class="dir-badge dir-a-to-b">A â†’ B</span></td><td>æœ¬æ—¥ã®èª²é‡‘å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§</td><td>æ—¥æ¬¡ãƒãƒƒãƒå‰</td></tr>
    <tr><td><strong>I-009</strong></td><td>ãƒªã‚«ãƒ¼ãƒªãƒ³ã‚°çµæœé€šçŸ¥</td><td><span class="dir-badge dir-a-to-b">A â†’ B</span></td><td>èª²é‡‘å®Ÿè¡Œçµæœã®é€šçŸ¥</td><td>ãƒãƒƒãƒå®Ÿè¡Œå¾Œ</td></tr>
    <tr><td><strong>I-010</strong></td><td>ç²¾ç®—ãƒ‡ãƒ¼ã‚¿é›†è¨ˆ</td><td><span class="dir-badge dir-a-to-b">A â†’ B</span></td><td>æœŸé–“å†…å–å¼•ã®æ‰‹æ•°æ–™é›†è¨ˆãƒ‡ãƒ¼ã‚¿</td><td>ç²¾ç®—ãƒãƒƒãƒæ™‚</td></tr>
    <tr><td><strong>I-011</strong></td><td>ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼è¨­å®šåŒæœŸ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>æ¥ç¶šå…ˆã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡æ›¿ã€æ‰‹æ•°æ–™ç‡å¤‰æ›´</td><td>è¨­å®šå¤‰æ›´æ™‚</td></tr>
    <tr><td><strong>I-012</strong></td><td>åŠ ç›Ÿåº—è¨­å®šåŒæœŸ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>åŠ ç›Ÿåº—/ã‚µã‚¤ãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´</td><td>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´æ™‚</td></tr>
    <tr><td><strong>I-013</strong></td><td>ã‚«ãƒ¼ãƒ‰å¤‰æ›´URLç”Ÿæˆ</td><td><span class="dir-badge dir-b-to-a">B â†’ A</span></td><td>ã‚µãƒ–ã‚¹ã‚¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ãƒ¼ãƒ‰å¤‰æ›´</td><td>ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰</td></tr>
    <tr><td><strong>I-014</strong></td><td>3DSçµæœå–å¾—</td><td><span class="dir-badge dir-a-to-b">A â†’ B</span></td><td>3DSèªè¨¼çµæœã®ç®¡ç†ç³»DBè¨˜éŒ²</td><td>3DSå®Œäº†æ™‚</td></tr>
    <tr><td><strong>I-015</strong></td><td>ä¸æ­£æ¤œçŸ¥çµæœé€šçŸ¥</td><td><span class="dir-badge dir-a-to-b">A â†’ B</span></td><td>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¤å®šçµæœã®é€šçŸ¥</td><td>åˆ¤å®šå®Œäº†æ™‚</td></tr>
  </tbody>
</table>

<div style="display:flex;gap:24px;margin:12px 0;font-size:12px;">
  <div><span class="dir-badge dir-a-to-b">A â†’ B</span> : 7ä»¶ (å–å¼•çµæœãƒ»ãƒ˜ãƒ«ã‚¹ãƒ»ç²¾ç®—ç­‰)</div>
  <div><span class="dir-badge dir-b-to-a">B â†’ A</span> : 8ä»¶ (è¿”é‡‘ãƒ»ãƒ«ãƒ¼ãƒ«åŒæœŸãƒ»è¨­å®šå¤‰æ›´ç­‰)</div>
</div>

<!-- ========== 5. DOMAIN STRUCTURE ========== -->
<div class="section-title"><span class="num">5</span> æ¨å¥¨ãƒ‰ãƒ¡ã‚¤ãƒ³æ§‹æˆ</div>

<div class="domain-grid">
  <div class="domain-card">
    <div style="font-size:28px;margin-bottom:8px;">ğŸ’³</div>
    <div class="url">pay.aipayment.jp</div>
    <div class="role">æ±ºæ¸ˆãƒšãƒ¼ã‚¸ (P02)</div>
    <div class="zone-tag" style="background:#FEE2E2;color:#991B1B;">CDE iframeå«ã‚€</div>
  </div>
  <div class="domain-card">
    <div style="font-size:28px;margin-bottom:8px;">ğŸ”</div>
    <div class="url">cde.aipayment.jp</div>
    <div class="role">CDE iframe (ãƒˆãƒ¼ã‚¯ãƒ³åŒ–)</div>
    <div class="zone-tag" style="background:#FEE2E2;color:#991B1B;">Zone A</div>
  </div>
  <div class="domain-card">
    <div style="font-size:28px;margin-bottom:8px;">ğŸ–¥ï¸</div>
    <div class="url">admin.aipayment.jp</div>
    <div class="role">ç®¡ç†ç”»é¢ SPA</div>
    <div class="zone-tag" style="background:#DBEAFE;color:#1E40AF;">Zone B</div>
  </div>
  <div class="domain-card">
    <div style="font-size:28px;margin-bottom:8px;">ğŸ“</div>
    <div class="url">apply.aipayment.jp</div>
    <div class="role">ç”³è¾¼ãƒšãƒ¼ã‚¸ (P01/P03)</div>
    <div class="zone-tag" style="background:#DBEAFE;color:#1E40AF;">Zone B</div>
  </div>
</div>

<!-- ========== 6. SCREEN â†” ZONE MAPPING ========== -->
<div class="section-title"><span class="num">6</span> ç”»é¢ â†” Zone ãƒãƒƒãƒ”ãƒ³ã‚°</div>

<h4 style="font-size:14px;margin:12px 0 8px;">ğŸ”´ Zone A ã«é–¢ã‚ã‚‹ç”»é¢ (CDEçµŒç”±)</h4>
<div class="screen-grid">
  <div class="screen-card screen-card-a"><span class="id">P02</span> æ±ºæ¸ˆãƒšãƒ¼ã‚¸ <span class="tag tag-a">CDE iframe</span></div>
</div>

<h4 style="font-size:14px;margin:16px 0 8px;">ğŸ”µ Zone B ã®ã¿ã§å®Œçµã™ã‚‹ç”»é¢</h4>
<div class="screen-grid">
  <div class="screen-card screen-card-b"><span class="id">M01</span> ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</div>
  <div class="screen-card screen-card-b"><span class="id">M02</span> ä¾‹å¤–ã‚­ãƒ¥ãƒ¼</div>
  <div class="screen-card screen-card-b"><span class="id">M03</span> ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–</div>
  <div class="screen-card screen-card-b"><span class="id">M04</span> åŠ ç›Ÿåº—ç®¡ç†</div>
  <div class="screen-card screen-card-b"><span class="id">M05</span> AIç›£è¦–</div>
  <div class="screen-card screen-card-b"><span class="id">M06</span> å¯©æŸ»ãƒ»ç”³è¾¼</div>
  <div class="screen-card screen-card-b"><span class="id">M09b</span> æ¥ç¶šå…ˆå¯©æŸ»</div>
  <div class="screen-card screen-card-b"><span class="id">M11</span> ãƒ¬ãƒãƒ¼ãƒˆ</div>
  <div class="screen-card screen-card-b"><span class="id">M12</span> ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†</div>
  <div class="screen-card screen-card-b"><span class="id">M13</span> ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</div>
  <div class="screen-card screen-card-b"><span class="id">M15</span> ä»£ç†åº—ç®¡ç†</div>
  <div class="screen-card screen-card-b"><span class="id">M16</span> é¡§å®¢ç®¡ç†</div>
  <div class="screen-card screen-card-b"><span class="id">S01-S12</span> åŠ ç›Ÿåº—ç”»é¢ (å…¨12ç”»é¢)</div>
  <div class="screen-card screen-card-b"><span class="id">D01-D05</span> ä»£ç†åº—ç”»é¢ (å…¨5ç”»é¢)</div>
  <div class="screen-card screen-card-b"><span class="id">P01</span> åŠ ç›Ÿåº— æ–°è¦ç”³è¾¼</div>
  <div class="screen-card screen-card-b"><span class="id">P03</span> ä»£ç†åº— æ–°è¦ç”³è¾¼</div>
</div>

<h4 style="font-size:14px;margin:16px 0 8px;">ğŸŸ£ Zone A â†” B ä¸¡æ–¹ã«é–¢ã‚ã‚‹ç”»é¢</h4>
<div class="screen-grid">
  <div class="screen-card screen-card-cross"><span class="id">M03b</span> æ³¨æ–‡æ¤œç´¢ <span class="tag tag-cross">è¿”é‡‘â†’ZoneA</span></div>
  <div class="screen-card screen-card-cross"><span class="id">M07</span> ä¸æ­£æ¤œçŸ¥ <span class="tag tag-cross">ãƒ«ãƒ¼ãƒ«â†’ZoneAåŒæœŸ</span></div>
  <div class="screen-card screen-card-cross"><span class="id">M08</span> ç²¾ç®—ãƒ»å…¥é‡‘ <span class="tag tag-cross">ç²¾ç®—ãƒ‡ãƒ¼ã‚¿â†ZoneA</span></div>
  <div class="screen-card screen-card-cross"><span class="id">M10</span> ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° <span class="tag tag-cross">ãƒ«ãƒ¼ãƒ«â†’ZoneAåŒæœŸ</span></div>
  <div class="screen-card screen-card-cross"><span class="id">M14</span> ç¶™ç¶šèª²é‡‘ç®¡ç† <span class="tag tag-cross">èª²é‡‘å®Ÿè¡Œ=ZoneA</span></div>
  <div class="screen-card screen-card-cross"><span class="id">S10</span> åŠ ç›Ÿåº— æ±ºæ¸ˆç®¡ç† <span class="tag tag-cross">CSVæ±ºæ¸ˆâ†’ZoneA</span></div>
</div>

<!-- ========== 7. DESIGN REVIEW ========== -->
<div class="section-title"><span class="num">7</span> è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µãƒãƒªãƒ¼</div>

<div style="display:flex;gap:16px;margin-bottom:16px;">
  <div style="background:#ECFDF5;border:1px solid #A7F3D0;border-radius:10px;padding:12px 20px;text-align:center;flex:1;">
    <div style="font-size:28px;font-weight:800;color:var(--ok);">8</div>
    <div style="font-size:12px;color:var(--ok);font-weight:600;">âœ… å•é¡Œãªã—</div>
  </div>
  <div style="background:#FFFBEB;border:1px solid #FDE68A;border-radius:10px;padding:12px 20px;text-align:center;flex:1;">
    <div style="font-size:28px;font-weight:800;color:var(--warn);">6</div>
    <div style="font-size:12px;color:var(--warn);font-weight:600;">âš ï¸ è¦æ¤œè¨</div>
  </div>
  <div style="background:#FEF2F2;border:1px solid #FECACA;border-radius:10px;padding:12px 20px;text-align:center;flex:1;">
    <div style="font-size:28px;font-weight:800;color:var(--critical);">3</div>
    <div style="font-size:12px;color:var(--critical);font-weight:600;">ğŸ”´ è¦å¯¾å¿œ</div>
  </div>
</div>

<div class="review-grid">
  <div class="review-item review-critical">
    <div class="status-icon">ğŸ”´</div>
    <div><div class="title">å†…éƒ¨APIä»•æ§˜ãŒæœªå®šç¾©</div><div class="detail">Zone A â†” B é–“ã®15ä»¶ä»¥ä¸Šã®APIãŒæœªå®šç¾©ã€‚æ±Ÿæˆãƒãƒ¼ãƒ ã¨ä»•æ§˜åˆæ„ãŒå¿…è¦ã€‚</div></div>
  </div>
  <div class="review-item review-critical">
    <div class="status-icon">ğŸ”´</div>
    <div><div class="title">ç’°å¢ƒé–“åŒæœŸæ–¹å¼ãŒæœªå®šç¾©</div><div class="detail">ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹• (SQS/EventBridge) æ¨å¥¨ã€‚å–å¼•ãƒ‡ãƒ¼ã‚¿ãƒ»ç²¾ç®—ãƒ»ãƒ˜ãƒ«ã‚¹ã®åŒæœŸæ–¹å¼ã‚’æ±ºå®šã™ã‚‹å¿…è¦ã‚ã‚Šã€‚</div></div>
  </div>
  <div class="review-item review-critical">
    <div class="status-icon">ğŸ”´</div>
    <div><div class="title">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ãŒå¼±ã„</div><div class="detail">ç¾çŠ¶: 8æ–‡å­—/è‹±æ•°å­—ã€‚PCI DSSè¦ä»¶: 12æ–‡å­—ä»¥ä¸Š/å¤§å°æ•°è¨˜å·å¿…é ˆ/90æ—¥æ›´æ–°/6å›å¤±æ•—ãƒ­ãƒƒã‚¯ã€‚</div></div>
  </div>
  <div class="review-item review-warn">
    <div class="status-icon">âš ï¸</div>
    <div><div class="title">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³é…ç½®</div><div class="detail">ãƒ«ãƒ¼ãƒ«åŒæœŸæ–¹å¼ãŒæœªå®šç¾©ã€‚Zone Aã«ãƒ«ãƒ¼ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥(Redis)ã‚’æŒã¡ã€å¤‰æ›´æ™‚ã«APIåŒæœŸã‚’æ¨å¥¨ã€‚</div></div>
  </div>
  <div class="review-item review-warn">
    <div class="status-icon">âš ï¸</div>
    <div><div class="title">ä¸æ­£æ¤œçŸ¥ãƒ«ãƒ¼ãƒ«å®Ÿè¡Œä½ç½®</div><div class="detail">ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¨å¥¨: é€Ÿåº¦ç³»/é‡‘é¡ç³»â†’Zone Aã€AIç³»â†’Zone Bã€‚</div></div>
  </div>
  <div class="review-item review-warn">
    <div class="status-icon">âš ï¸</div>
    <div><div class="title">å–å¼•ãƒ‡ãƒ¼ã‚¿åŒæœŸæ–¹å¼</div><div class="detail">ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•åŒæœŸæ¨å¥¨ (SQS/EventBridge)ã€‚Zone Aâ†’Zone Bã«ã‚«ãƒ¼ãƒ‰ç•ªå·ãªã—ã§åŒæœŸã€‚</div></div>
  </div>
  <div class="review-item review-warn">
    <div class="status-icon">âš ï¸</div>
    <div><div class="title">P02æ±ºæ¸ˆãƒšãƒ¼ã‚¸ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°</div><div class="detail">åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ (pay.aipayment.jp) æ¨å¥¨ã€‚CDE iframeã®CORSè¨­å®šãŒå¿…è¦ã€‚</div></div>
  </div>
  <div class="review-item review-warn">
    <div class="status-icon">âš ï¸</div>
    <div><div class="title">AIæ©Ÿèƒ½ã®å®Ÿè¡Œç’°å¢ƒ</div><div class="detail">ãƒãƒ£ãƒƒãƒˆ=å¤–éƒ¨API (Claude)ã€ä¸æ­£æ¤œçŸ¥AI=è‡ªç¤¾ãƒ¢ãƒ‡ãƒ«(SageMaker)ã‚’æ¨å¥¨ã€‚</div></div>
  </div>
  <div class="review-item review-warn">
    <div class="status-icon">âš ï¸</div>
    <div><div class="title">ç²¾ç®—å‡¦ç†ã®åˆ†æ‹…</div><div class="detail">å–å¼•ã”ã¨æ‰‹æ•°æ–™ã¯Zone Aã§è¨ˆç®—ã€é›†è¨ˆãƒ»ãƒãƒƒãƒç®¡ç†ã¯Zone Bã‚’æ¨å¥¨ã€‚</div></div>
  </div>
</div>

<!-- ========== 8. NEXT STEPS ========== -->
<div class="section-title"><span class="num">8</span> Next Steps â€” æ±Ÿæˆãƒãƒ¼ãƒ ã¨ã®ç¢ºèªäº‹é …</div>

<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
  <div class="user-section" style="margin:0;">
    <h4 style="font-size:14px;font-weight:700;margin-bottom:12px;">ğŸ¤ ç’°å¢ƒé–“é€£æº</h4>
    <ul style="font-size:13px;padding-left:20px;display:flex;flex-direction:column;gap:8px;">
      <li>Zone A â†’ Zone B ã®å–å¼•ãƒ‡ãƒ¼ã‚¿åŒæœŸæ–¹å¼ã¯ï¼Ÿ</li>
      <li>Zone B â†’ Zone A ã®ãƒ«ãƒ¼ãƒ«åŒæœŸæ–¹å¼ã¯ï¼Ÿ</li>
      <li>VPC Peering or PrivateLink ã®æ§‹æˆã¯ï¼Ÿ</li>
      <li>å†…éƒ¨APIèªè¨¼æ–¹å¼ï¼ˆmTLS / IAM / API Keyï¼Ÿï¼‰</li>
    </ul>
  </div>
  <div class="user-section" style="margin:0;">
    <h4 style="font-size:14px;font-weight:700;margin-bottom:12px;">ğŸ” CDE (Zone A) ã®æ©Ÿèƒ½ç¯„å›²</h4>
    <ul style="font-size:13px;padding-left:20px;display:flex;flex-direction:column;gap:8px;">
      <li>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã¯Zone Aå†…ã§å®Œçµã™ã‚‹ã‹ï¼Ÿ</li>
      <li>ä¸æ­£æ¤œçŸ¥ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¤å®šã¯Zone Aã§è¡Œã†ã‹ï¼Ÿ</li>
      <li>ç²¾ç®—ã®æ‰‹æ•°æ–™è¨ˆç®—ã¯Zone Aã§è¡Œã†ã‹ï¼Ÿ</li>
      <li>ãƒªã‚«ãƒ¼ãƒªãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã¯Zone Aå†…ã‹ï¼Ÿ</li>
    </ul>
  </div>
  <div class="user-section" style="margin:0;">
    <h4 style="font-size:14px;font-weight:700;margin-bottom:12px;">ğŸŒ ãƒ•ãƒ­ãƒ³ãƒˆé–¢é€£</h4>
    <ul style="font-size:13px;padding-left:20px;display:flex;flex-direction:column;gap:8px;">
      <li>P02æ±ºæ¸ˆãƒšãƒ¼ã‚¸ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å…ˆã¯ï¼Ÿ</li>
      <li>CDE iframeã®CORSè¨±å¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ï¼Ÿ</li>
      <li>ç®¡ç†ç”»é¢SPAã®ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆï¼ˆCloudFront + S3ï¼Ÿï¼‰</li>
    </ul>
  </div>
  <div class="user-section" style="margin:0;">
    <h4 style="font-size:14px;font-weight:700;margin-bottom:12px;">ğŸ“‹ å„ªå…ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h4>
    <ol style="font-size:13px;padding-left:20px;display:flex;flex-direction:column;gap:8px;">
      <li><strong style="color:var(--critical);">å†…éƒ¨APIä»•æ§˜æ›¸ã®ä½œæˆ</strong>ï¼ˆ15ä»¶ï¼‰</li>
      <li><strong style="color:var(--critical);">ç’°å¢ƒé–“åŒæœŸæ–¹å¼ã®æ±ºå®š</strong></li>
      <li><strong style="color:var(--warn);">ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆã®æ±ºå®š</strong></li>
      <li><strong style="color:var(--warn);">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ã®å¼·åŒ–</strong></li>
    </ol>
  </div>
</div>

</div>

<div class="footer">
  AI Payment System â€” ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³ v1.0 | ä½œæˆæ—¥: 2026-02-19 | MTGè³‡æ–™
</div>

</body>
</html>
